# Main configuration for SMPL/MANO pose extraction

# Input/Output paths
bag_file: null  # Path to input .bag file (required)
output_path: null  # Output JSON path (default: <bag_file>_smpl.json)

# MediaPipe model settings
models:
  path: "../../checkpoints/mediapipe_models"
  pose_model: "pose_landmarker_heavy.task"
  hand_model: "hand_landmarker.task"

# Detection confidence thresholds
detection:
  pose:
    min_detection_confidence: 0.3
    min_presence_confidence: 0.3
    min_tracking_confidence: 0.3
  hand:
    min_detection_confidence: 0.3
    min_presence_confidence: 0.3
    min_tracking_confidence: 0.3
    num_hands: 2

# Processing options
processing:
  visualize: false
  real_time: false
  frame_skip: 1
  max_frames: 0
  # --- NEW OPTION ---
  # true: uses RealSense depth sensor + intrinsics for metric 3D (meters)
  # false: uses MediaPipe internal depth estimation (default)
  use_realsense_depth: true

# Output options
output:
  save_positions: true
  save_metadata: true
  pretty_print: true
  chunk_duration_sec: 10.0
  
# Reference pose settings
reference:
  use_first_frame: true
  custom_reference: null

# Logging
logging:
  level: "INFO"
  print_progress_every: 100
  save_log: false
  log_path: "extraction.log"

# Defaults
defaults:
  - _self_
  - override hydra/hydra_logging: disabled
  - override hydra/job_logging: disabled

# Hydra settings
hydra:
  run:
    dir: outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}
  sweep:
    dir: multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num}